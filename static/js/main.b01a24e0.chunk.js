(this["webpackJsonpforecast-weather"]=this["webpackJsonpforecast-weather"]||[]).push([[0],{17:function(e,t,a){e.exports=a(45)},22:function(e,t,a){},23:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),s=a.n(r),i=(a(22),a(7)),o=a(2),l=a(3),m=a(5),u=a(4),d=a(6),h=(a(23),a(8)),p=a.n(h);a(42);var f=function(e){var t=e.index,a=e.his,n=e.date,r=e.info;return c.a.createElement("div",Object.assign({},e,{style:{backgroundColor:"#DDD"}}),"wrong name"!==r?c.a.createElement("div",{className:"haveCity"},t+1,". ",a," : \xa0 ",c.a.createElement("span",null,n)):c.a.createElement("div",{className:"unknowCity"},t+1,". ",a," : \xa0 ",c.a.createElement("span",null,n)))},v=(a(43),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.nameCity,n=t.tempC,r=t.des,s=t.tempMin,i=t.tempMax,o=t.humidity,l=t.wind,m=t.iconWeather;return e="Haze"===m?c.a.createElement("div",{className:"iconDes"},c.a.createElement("i",{className:"fas fa-smog"})):"Clouds"===m?c.a.createElement("div",{className:"iconDes"},c.a.createElement("i",{className:"fas fa-cloud-sun"})):c.a.createElement("div",{className:"iconDes"},c.a.createElement("i",{className:"fab fa-mixcloud"})),c.a.createElement("div",{className:"Card"},c.a.createElement("div",{className:"row itemCenter"},c.a.createElement("span",{className:"title"},a)),c.a.createElement("div",{className:"row itemCenter iconDes"},e),c.a.createElement("div",{className:"row itemCenter des"},r),c.a.createElement("div",{className:"row itemCenter"},c.a.createElement("span",{className:"temp"},n,c.a.createElement("i",{className:"fas fa-temperature-low"}))),c.a.createElement("div",{className:"row footerBody"},c.a.createElement("div",{className:"cardLeft"},c.a.createElement("i",{className:"fas fa-arrow-down arrow"}),c.a.createElement("div",{className:"wrap-content"},c.a.createElement("div",null,"Lowest"),c.a.createElement("div",null,c.a.createElement("span",null,s),c.a.createElement("i",{className:"fas fa-temperature-low"})))),c.a.createElement("div",{className:"cardRight ml-auto"},c.a.createElement("i",{className:"fas fa-arrow-up arrow"}),c.a.createElement("div",{className:"wrap-content"},c.a.createElement("div",null,"Highest"),c.a.createElement("div",null,c.a.createElement("span",null,i),c.a.createElement("i",{className:"fas fa-temperature-low"}))))),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"cardLeft"},c.a.createElement("i",{className:"fas fa-tint col-3"}),c.a.createElement("div",{className:"wrap-content"},c.a.createElement("div",null,"Humidity"),c.a.createElement("div",null,o,"%"))),c.a.createElement("div",{className:"cardRight"},c.a.createElement("i",{className:"fas fa-wind col-3"}),c.a.createElement("div",{className:"wrap-content"},c.a.createElement("div",null,"Wind"),c.a.createElement("div",null,l,"kph")))))}}]),t}(c.a.Component)),E=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",Object.assign({},this.props,{className:"row"}),this.props.name)}}]),t}(c.a.Component),w=(a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={listCityMatched:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.valueInput;e.valueInput!==this.props.valueInput&&p()({method:"GET",url:"https://api.teleport.org/api/cities/?search=".concat(a,"&limit=005"),data:null}).then((function(e){var a=e.data._embedded["city:search-results"];t.setState({listCityMatched:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.listCityMatched;return c.a.createElement("div",{className:"suggestion"},t.map((function(t,a){var n=t.matching_full_name;return c.a.createElement(E,{key:a,name:n,onClick:function(){return e.props.onClickSuggest(n)}})})))}}]),t}(c.a.Component)),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).geoSuccess=function(e){var t=e.coords.latitude.toFixed(2),n=e.coords.longitude.toFixed(2);p()({method:"GET",url:"https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&APPID=79e5a60cd7630f97308d4feaa26cf75d"),data:null}).then((function(e){a.setState({weathers:[e.data].concat(Object(i.a)(a.state.weathers))})}))},a.geoError=function(){console.log("you was blocked your location")},a.onClickHistoryTag=function(e){var t=a.state.history[e].info;"object"===typeof t&&a.setState({weathers:[t]})},a.onClickSuggest=function(e){p()({method:"GET",url:"https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=79e5a60cd7630f97308d4feaa26cf75d"),data:null}).then((function(e){var t=e.data;a.setState({weathers:[].concat(Object(i.a)(a.state.weathers),[t])})})).catch((function(e){return console.log(e)})),a.setState({valueInput:""})},a.onChangeInput=function(e){a.setState({valueInput:e.target.value})},a.onKeyUp=function(e){if(13===e.keyCode){var t=e.target.value.trim(),n=(new Date).toDateString();t&&p()({method:"GET",url:"https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&APPID=79e5a60cd7630f97308d4feaa26cf75d"),data:null}).then((function(e){var c=e.data;a.setState({valueInput:"",cities:[].concat(Object(i.a)(a.state.cities),[t]),weathers:[].concat(Object(i.a)(a.state.weathers),[c]),history:[].concat(Object(i.a)(a.state.history),[{name:t,info:c,date:n}])}),localStorage.setItem("history",JSON.stringify(a.state.history))})).catch((function(e){a.setState({valueInput:"",history:[].concat(Object(i.a)(a.state.history),[{name:t,info:"wrong name",date:n}])}),localStorage.setItem("history",JSON.stringify(a.state.history))}))}},a.state={valueInput:"",history:[],cities:[],weathers:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.geoSuccess,this.geoError);var e=localStorage.getItem("history");if(e){var t=JSON.parse(e);this.setState({history:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.valueInput,n=t.weathers,r=t.history;return c.a.createElement("div",{className:"App container"},c.a.createElement("input",{className:"row form-control",placeholder:"the weather of . . .",onChange:this.onChangeInput,value:a,onKeyUp:this.onKeyUp}),""!==a&&c.a.createElement(w,{className:"row",valueInput:a,onClickSuggest:this.onClickSuggest}),c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"listCard"},n.map((function(e,t){return c.a.createElement(v,{key:t,nameCity:e.name,tempC:+(e.main.temp-273.15).toFixed(0),des:e.weather[0].description,tempMin:+(e.main.temp_min-273.15).toFixed(0),tempMax:+(e.main.temp_max-273.15).toFixed(0),humidity:e.main.humidity,wind:e.wind.speed,iconWeather:e.weather[0].main})}))),c.a.createElement("div",{className:"sidebar"},c.a.createElement("h1",null,"History"),r.map((function(t,a){return c.a.createElement(f,{his:t.name,key:a,index:a,date:t.date,info:t.info,onClick:function(){return e.onClickHistoryTag(a)}})})))))}}]),t}(c.a.Component);s.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b01a24e0.chunk.js.map